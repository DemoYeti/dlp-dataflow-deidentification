name: Load testing

on:
#  push:
#    branches:
#      - pipeline_performance
  pull_request:
    types: [ opened, reopened, synchronize ]
    branches:
      - pipeline_performance
  workflow_dispatch:

jobs:
  create-output-bucket:
    runs-on:
      - self-hosted
    timeout-minutes: 5
    steps:
      - name: Create Output GCS Bucket
        uses: ./.github/workflows/load-tests/curate-data.yml
        with:
          output_gcs_bucket: "test_composite"
          region: "us-central1"


